From f36102cf4af82593dd08c28de140863868b98b2b Mon Sep 17 00:00:00 2001
From: Rob Browning <rlb@defaultvalue.org>
Date: Mon, 17 Dec 2018 15:15:25 -0600
Subject: ibuffer-filter-inclusion-3: regexp-quote directory

Otherwise the test may fail for some paths like those seen in a Debian
sbuild chroot, e.g. build/emacs-i87jK3/emacs-26.1+1/...
---
 test/lisp/ibuffer-tests.el | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/test/lisp/ibuffer-tests.el b/test/lisp/ibuffer-tests.el
index ff5162fefa5..c1d9ed9fc3b 100644
--- a/test/lisp/ibuffer-tests.el
+++ b/test/lisp/ibuffer-tests.el
@@ -312,8 +312,8 @@
                 (funcall create-non-file-buffer "ibuf-test-3.b" :size 50
                          :mode #'text-mode
                          :include-content "...but a multitude of drops?\n"))
-               (dirA (with-current-buffer bufA default-directory))
-               (dirB (with-current-buffer bufB default-directory)))
+               (dirA (regexp-quote (with-current-buffer bufA default-directory)))
+               (dirB (regexp-quote (with-current-buffer bufB default-directory))))
           (should (ibuffer-included-in-filters-p
                    bufA '((basename . "ibuf-test-3"))))
           (should (ibuffer-included-in-filters-p
