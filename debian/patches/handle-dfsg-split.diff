* Files apparently incompatible with the DFSG have been removed.

  A number of files have been removed from this package because their
  licenses are not compatible with the Debian Free Software Guidelines
  (DFSG), or because it wasn't completely clear that their licenses
  are compatible.

  In particular, all of the files which are covered under the GFDL and
  have invariant sections have been removed in accordance with this
  General Resolution: http://www.debian.org/vote/2006/vote_001.

  The files that have been removed, but still appear to be
  distributable, have been moved to packages in Debian's non-free
  section.

  Patch: handle-dfsg-split.diff
  Author: Rob Browning <rlb@defaultvalue.org>
  Added-by: Rob Browning <rlb@defaultvalue.org>
  Status: new

Index: sid/lisp/help.el
===================================================================
--- sid.orig/lisp/help.el
+++ sid/lisp/help.el
@@ -281,6 +281,14 @@
 
 ;;; `User' help functions
 
+(defun debian-expand-file-name-dfsg (filename)
+  "Apply expand-file-name to FILENAME.
+If expand-file-name does not find a file, append `.dfsg' and try again."
+  (let ((file (expand-file-name file data-directory)))
+    (if (file-exists-p file)
+        file
+      (expand-file-name (concat file ".dfsg") data-directory))))
+
 (defun describe-distribution ()
   "Display info on how to obtain the latest version of GNU Emacs."
   (interactive)
@@ -295,7 +303,7 @@
 (defun describe-gnu-project ()
   "Display info on the GNU project."
   (interactive)
-  (view-file (expand-file-name "THE-GNU-PROJECT" data-directory))
+  (view-file (debian-expand-file-name-dfsg "THE-GNU-PROJECT" data-directory))
   (goto-char (point-min)))
 
 (define-obsolete-function-alias 'describe-project 'describe-gnu-project "22.2")
Index: sid/Makefile.in
===================================================================
--- sid.orig/Makefile.in
+++ sid/Makefile.in
@@ -139,11 +139,7 @@
 # since there are now many packages documented with the texinfo
 # system, it is inappropriate to imply that it is part of Emacs.
 infodir=@infodir@
-INFO_FILES=ada-mode autotype calc ccmode cl dired-x ebrowse ediff efaq \
-           elisp eintr emacs emacs-mime eshell eudc flymake \
-           forms gnus idlwave info message mh-e newsticker org pcl-cvs \
-           pgg reftex sc ses sieve speedbar tramp vip viper widget     \
-           woman smtpmail url rcirc erc
+INFO_FILES=efaq
 
 # Directory for local state files for all programs.
 localstatedir=@localstatedir@
@@ -251,7 +247,7 @@
 SUBDIR = lib-src src
 
 # The makefiles of the directories in $SUBDIR.
-SUBDIR_MAKEFILES = lib-src/Makefile man/Makefile lispref/Makefile lispintro/Makefile src/Makefile oldXMenu/Makefile lwlib/Makefile leim/Makefile
+SUBDIR_MAKEFILES = lib-src/Makefile man/Makefile src/Makefile oldXMenu/Makefile lwlib/Makefile leim/Makefile
 
 # Subdirectories to install, and where they'll go.
 # lib-src's makefile knows how to install it, so we don't do that here.
@@ -340,12 +336,6 @@
 man/Makefile: $(srcdir)/man/Makefile.in config.status
 	./config.status
 
-lispref/Makefile: $(srcdir)/lispref/Makefile.in config.status
-	./config.status
-
-lispintro/Makefile: $(srcdir)/lispintro/Makefile.in config.status
-	./config.status
-
 oldXMenu/Makefile: $(srcdir)/oldXMenu/Makefile.in config.status
 	./config.status
 
@@ -617,8 +607,6 @@
 	(cd lwlib;    $(MAKE) $(MFLAGS) mostlyclean)
 	(cd lib-src;  $(MAKE) $(MFLAGS) mostlyclean)
 	-(cd man &&   $(MAKE) $(MFLAGS) mostlyclean)
-	-(cd lispref &&   $(MAKE) $(MFLAGS) mostlyclean)
-	-(cd lispintro &&   $(MAKE) $(MFLAGS) mostlyclean)
 	(cd leim;     $(MAKE) $(MFLAGS) mostlyclean)
 
 ### `clean'
@@ -635,8 +623,6 @@
 	(cd lwlib;    $(MAKE) $(MFLAGS) clean)
 	(cd lib-src;  $(MAKE) $(MFLAGS) clean)
 	-(cd man &&   $(MAKE) $(MFLAGS) clean)
-	-(cd lispref &&   $(MAKE) $(MFLAGS) clean)
-	-(cd lispintro &&   $(MAKE) $(MFLAGS) clean)
 	(cd leim;     $(MAKE) $(MFLAGS) clean)
 
 ### `distclean'
@@ -655,8 +641,6 @@
 	(cd lwlib;    $(MAKE) $(MFLAGS) distclean)
 	(cd lib-src;  $(MAKE) $(MFLAGS) distclean)
 	(cd man &&    $(MAKE) $(MFLAGS) distclean)
-	(cd lispref &&    $(MAKE) $(MFLAGS) distclean)
-	(cd lispintro &&    $(MAKE) $(MFLAGS) distclean)
 	(cd leim;     $(MAKE) $(MFLAGS) distclean)
 	(cd lisp;     $(MAKE) $(MFLAGS) distclean)
 	${top_distclean}
@@ -678,8 +662,6 @@
 	(cd lwlib;    $(MAKE) $(MFLAGS) maintainer-clean)
 	(cd lib-src;  $(MAKE) $(MFLAGS) maintainer-clean)
 	-(cd man &&   $(MAKE) $(MFLAGS) maintainer-clean)
-	-(cd lispref &&   $(MAKE) $(MFLAGS) maintainer-clean)
-	-(cd lispintro &&   $(MAKE) $(MFLAGS) maintainer-clean)
 	(cd leim;     $(MAKE) $(MFLAGS) maintainer-clean)
 	(cd lisp;     $(MAKE) $(MFLAGS) maintainer-clean)
 	${top_distclean}
@@ -717,8 +699,6 @@
 	(cd lisp; $(MAKE) $(MFLAGS) unlock)
 	(cd lisp/term; chmod u+w README *.el)
 	(cd man; chmod u+w *texi* ChangeLog split-man)
-	(cd lispref; chmod u+w *texi* ChangeLog)
-	(cd lispintro; chmod u+w *texi* ChangeLog)
 	(cd oldXMenu; chmod u+w *.[ch] Makefile README)
 	(cd lwlib; chmod u+w *.[ch] Makefile README)
 	(cd src; $(MAKE) $(MFLAGS) unlock)
@@ -731,8 +711,6 @@
 	(cd lisp; $(MAKE) $(MFLAGS) relock)
 	(cd lisp/term; chmod u+w README *.el)
 	(cd man; chmod u+w *texi* ChangeLog split-man)
-	(cd lispref; chmod u+w *texi* ChangeLog)
-	(cd lispintro; chmod u+w *texi* ChangeLog)
 	(cd oldXMenu; chmod u+w *.[ch] Makefile README)
 	(cd lwlib; chmod u+w *.[ch] Makefile README)
 	(cd src; $(MAKE) $(MFLAGS) relock)
@@ -755,12 +733,8 @@
 # so we can do ok running make in the build dir.
 info: force-info
 	-(cd man; $(MAKE) $(MFLAGS) info)
-	-(cd lispref; $(MAKE) $(MFLAGS) info)
-	-(cd lispintro; $(MAKE) $(MFLAGS) info)
 dvi:
 	(cd man; $(MAKE) $(MFLAGS) dvi)
-	(cd lispref; $(MAKE) $(MFLAGS) elisp.dvi)
-	(cd lispintro; $(MAKE) $(MFLAGS) emacs-lisp-intro.dvi)
 
 #### Bootstrapping.
 
@@ -810,6 +784,4 @@
 	(cd lwlib;    $(MAKE) $(MFLAGS) clean)
 	(cd lib-src;  $(MAKE) $(MFLAGS) clean)
 	-(cd man &&   $(MAKE) $(MFLAGS) clean)
-	-(cd lispref &&   $(MAKE) $(MFLAGS) clean)
-	-(cd lispintro &&   $(MAKE) $(MFLAGS) clean)
 	(cd leim;     $(MAKE) $(MFLAGS) clean)
Index: sid/man/Makefile.in
===================================================================
--- sid.orig/man/Makefile.in
+++ sid/man/Makefile.in
@@ -33,24 +33,8 @@
 # The makeinfo program is part of the Texinfo distribution.
 # Use --force so that it generates output even if there are errors.
 MAKEINFO = makeinfo --force
-INFO_TARGETS = ../info/emacs ../info/ccmode ../info/cl \
-	        ../info/dired-x ../info/ediff ../info/forms ../info/gnus \
-		../info/message ../info/sieve ../info/pgg ../info/emacs-mime \
-		../info/info ../info/mh-e ../info/reftex \
-		../info/sc ../info/vip ../info/viper ../info/widget \
-		../info/efaq ../info/ada-mode ../info/autotype ../info/calc \
-		../info/idlwave ../info/eudc ../info/ebrowse ../info/pcl-cvs \
-		../info/woman ../info/eshell ../info/org ../info/url \
-		../info/speedbar ../info/tramp ../info/ses ../info/smtpmail \
-		../info/flymake ../info/newsticker ../info/rcirc ../info/erc
-DVI_TARGETS = 	emacs.dvi calc.dvi cc-mode.dvi cl.dvi dired-x.dvi \
-		 ediff.dvi forms.dvi gnus.dvi message.dvi emacs-mime.dvi \
-                 gnus.dvi message.dvi sieve.dvi pgg.dvi mh-e.dvi \
-		 reftex.dvi sc.dvi vip.dvi viper.dvi widget.dvi faq.dvi \
-		 ada-mode.dvi autotype.dvi idlwave.dvi eudc.dvi ebrowse.dvi \
-		 pcl-cvs.dvi woman.dvi eshell.dvi org.dvi url.dvi \
-		 speedbar.dvi tramp.dvi ses.dvi smtpmail.dvi flymake.dvi \
-                 newsticker.dvi emacs-xtra.dvi rcirc.dvi erc.dvi
+INFO_TARGETS = ../info/efaq
+DVI_TARGETS = faq.dvi
 INFOSOURCES = info.texi
 
 # The following rule does not work with all versions of `make'.
@@ -61,65 +45,6 @@
 TEXI2DVI = texi2dvi
 ENVADD = TEXINPUTS="$(srcdir):$(TEXINPUTS)" MAKEINFO="$(MAKEINFO) -I$(srcdir)"
 
-EMACS_XTRA=\
-	$(srcdir)/arevert-xtra.texi \
-	$(srcdir)/cal-xtra.texi \
-	$(srcdir)/dired-xtra.texi \
-	$(srcdir)/picture-xtra.texi \
-	$(srcdir)/emerge-xtra.texi \
-	$(srcdir)/vc-xtra.texi \
-	$(srcdir)/vc1-xtra.texi \
-	$(srcdir)/vc2-xtra.texi \
-	$(srcdir)/fortran-xtra.texi \
-	$(srcdir)/msdog-xtra.texi
-
-EMACSSOURCES= \
-	${srcdir}/emacs.texi \
-	${srcdir}/doclicense.texi \
-	${srcdir}/gpl.texi \
-	${srcdir}/screen.texi \
-	${srcdir}/commands.texi \
-	${srcdir}/entering.texi \
-	${srcdir}/basic.texi \
-	${srcdir}/mini.texi \
-	${srcdir}/m-x.texi \
-	${srcdir}/help.texi \
-	${srcdir}/mark.texi \
-	${srcdir}/killing.texi \
-	${srcdir}/regs.texi \
-	${srcdir}/display.texi \
-	${srcdir}/search.texi \
-	${srcdir}/fixit.texi \
-	${srcdir}/files.texi \
-	${srcdir}/buffers.texi \
-	${srcdir}/windows.texi \
-	${srcdir}/frames.texi \
-	${srcdir}/mule.texi \
-	${srcdir}/major.texi \
-	${srcdir}/indent.texi \
-	${srcdir}/text.texi \
-	${srcdir}/programs.texi \
-	${srcdir}/building.texi \
-	${srcdir}/maintaining.texi \
-	${srcdir}/abbrevs.texi \
-	${srcdir}/sending.texi \
-	${srcdir}/rmail.texi \
-	${srcdir}/dired.texi \
-	${srcdir}/calendar.texi \
-	${srcdir}/misc.texi \
-	${srcdir}/custom.texi \
-	${srcdir}/trouble.texi \
-	${srcdir}/cmdargs.texi \
-	${srcdir}/xresources.texi \
-	${srcdir}/anti.texi \
-	${srcdir}/macos.texi \
-	${srcdir}/msdog.texi \
-	${srcdir}/gnu.texi \
-	${srcdir}/glossary.texi \
-	${srcdir}/ack.texi \
-	${srcdir}/kmacro.texi \
-	$(EMACS_XTRA)
-
 info: $(top_srcdir)/info $(INFO_TARGETS)
 
 $(top_srcdir)/info:
@@ -132,222 +57,11 @@
 # to exist in the build directory.
 # In a distribution of Emacs, the Info files should be up to date.
 
-# The following target uses an explicit -o switch to work around
-# the @setfilename directive in info.texi, which is required for
-# the Texinfo distribution.
-
-../info/info: ${INFOSOURCES}
-	cd $(srcdir); $(MAKEINFO) --no-split info.texi -o $@
-
-info.dvi: ${INFOSOURCES}
-	$(ENVADD) $(TEXI2DVI) ${srcdir}/info.texi
-
-../info/emacs: ${EMACSSOURCES}
-	cd $(srcdir); $(MAKEINFO) emacs.texi
-
-emacs.dvi: ${EMACSSOURCES}
-	$(ENVADD) $(TEXI2DVI) ${srcdir}/emacs.texi
-
-# This target is here so you could easily get the list of the *.texi
-# files which belong to the Emacs manual (as opposed to the separate
-# manuals for CL, CC Mode, Ebrowse, etc.).  With this target, you can
-# say things like "grep foo `make emacsman`".
-emacsman:
-	@echo $(EMACSSOURCES)
-
-../info/ccmode: cc-mode.texi
-	cd $(srcdir); $(MAKEINFO) cc-mode.texi
-cc-mode.dvi: cc-mode.texi
-	$(ENVADD) $(TEXI2DVI) ${srcdir}/cc-mode.texi
-
-../info/ada-mode: ada-mode.texi
-	cd $(srcdir); $(MAKEINFO) ada-mode.texi
-ada-mode.dvi: ada-mode.texi
-	$(ENVADD) $(TEXI2DVI) ${srcdir}/ada-mode.texi
-
-../info/pcl-cvs: pcl-cvs.texi
-	cd $(srcdir); $(MAKEINFO) pcl-cvs.texi
-pcl-cvs.dvi: pcl-cvs.texi
-	$(ENVADD) $(TEXI2DVI) ${srcdir}/pcl-cvs.texi
-
-../info/eshell: eshell.texi
-	cd $(srcdir); $(MAKEINFO) eshell.texi
-eshell.dvi: eshell.texi
-	$(ENVADD) $(TEXI2DVI) ${srcdir}/eshell.texi
-
-../info/cl: cl.texi
-	cd $(srcdir); $(MAKEINFO) cl.texi
-cl.dvi: cl.texi
-	$(ENVADD) $(TEXI2DVI) ${srcdir}/cl.texi
-
-../info/dired-x: dired-x.texi
-	cd $(srcdir); $(MAKEINFO) dired-x.texi
-dired-x.dvi: dired-x.texi
-	$(ENVADD) $(TEXI2DVI) ${srcdir}/dired-x.texi
-
-../info/ediff: ediff.texi
-	cd $(srcdir); $(MAKEINFO) ediff.texi
-ediff.dvi: ediff.texi
-	$(ENVADD) $(TEXI2DVI) ${srcdir}/ediff.texi
-
-emacs-xtra.dvi: emacs-xtra.texi $(EMACS_XTRA)
-	$(ENVADD) $(TEXI2DVI) ${srcdir}/emacs-xtra.texi
-
-../info/forms: forms.texi
-	cd $(srcdir); $(MAKEINFO) forms.texi
-forms.dvi: forms.texi
-	$(ENVADD) $(TEXI2DVI) ${srcdir}/forms.texi
-
-# gnus/message/emacs-mime/sieve/pgg are part of Gnus:
-../info/gnus: gnus.texi gnus-faq.texi
-	cd $(srcdir); $(MAKEINFO) gnus.texi
-gnus.dvi: gnus.texi gnus-faq.texi
-	sed -e '/@iflatex/,/@end iflatex/d' ${srcdir}/gnus.texi > gnustmp.texi
-	$(ENVADD) $(TEXI2DVI) gnustmp.texi
-	cp gnustmp.dvi $*.dvi
-	rm gnustmp.*
-
-../info/message: message.texi
-	cd $(srcdir); $(MAKEINFO) message.texi
-message.dvi: message.texi
-	$(ENVADD) $(TEXI2DVI) ${srcdir}/message.texi
-
-../info/sieve: sieve.texi
-	cd $(srcdir); $(MAKEINFO) sieve.texi
-sieve.dvi: sieve.texi
-	$(ENVADD) $(TEXI2DVI) ${srcdir}/sieve.texi
-
-../info/emacs-mime: emacs-mime.texi
-	cd $(srcdir); $(MAKEINFO) --enable-encoding emacs-mime.texi
-emacs-mime.dvi: emacs-mime.texi
-	$(ENVADD) $(TEXI2DVI) ${srcdir}/emacs-mime.texi
-
-../info/pgg: pgg.texi
-	cd $(srcdir); $(MAKEINFO) pgg.texi
-pgg.dvi: pgg.texi
-	$(ENVADD) $(TEXI2DVI) ${srcdir}/pgg.texi
-
-../info/mh-e: mh-e.texi
-	cd $(srcdir); $(MAKEINFO) mh-e.texi
-mh-e.dvi: mh-e.texi
-	$(ENVADD) $(TEXI2DVI) ${srcdir}/mh-e.texi
-
-../info/reftex: reftex.texi
-	cd $(srcdir); $(MAKEINFO) reftex.texi
-reftex.dvi: reftex.texi
-	$(ENVADD) $(TEXI2DVI) ${srcdir}/reftex.texi
-
-../info/sc: sc.texi
-	cd $(srcdir); $(MAKEINFO) sc.texi
-sc.dvi: sc.texi
-	$(ENVADD) $(TEXI2DVI) ${srcdir}/sc.texi
-
-../info/vip: vip.texi
-	cd $(srcdir); $(MAKEINFO) vip.texi
-vip.dvi: vip.texi
-	$(ENVADD) $(TEXI2DVI) ${srcdir}/vip.texi
-
-../info/viper: viper.texi
-	cd $(srcdir); $(MAKEINFO) viper.texi
-viper.dvi: viper.texi
-	$(ENVADD) $(TEXI2DVI) ${srcdir}/viper.texi
-
-../info/widget: widget.texi
-	cd $(srcdir); $(MAKEINFO) widget.texi
-widget.dvi: widget.texi
-	$(ENVADD) $(TEXI2DVI) ${srcdir}/widget.texi
-
 ../info/efaq: faq.texi
 	cd $(srcdir); $(MAKEINFO) faq.texi
 faq.dvi: faq.texi
 	$(ENVADD) $(TEXI2DVI) ${srcdir}/faq.texi
 
-../etc/GNU: gnu1.texi gnu.texi
-	cd $(srcdir) && makeinfo --no-headers -o ../etc/GNU gnu1.texi
-
-../info/autotype: autotype.texi
-	cd $(srcdir); $(MAKEINFO) autotype.texi
-autotype.dvi: autotype.texi
-	$(ENVADD) $(TEXI2DVI) ${srcdir}/autotype.texi
-
-../info/calc: calc.texi
-	cd $(srcdir); $(MAKEINFO) calc.texi
-
-calc.dvi: calc.texi
-	$(ENVADD) $(TEXI2DVI) ${srcdir}/calc.texi
-
-# This is produced with --no-split to avoid making files whose
-# names clash on DOS 8+3 filesystems
-../info/idlwave: idlwave.texi
-	cd $(srcdir); $(MAKEINFO) --no-split idlwave.texi
-idlwave.dvi: idlwave.texi
-	$(ENVADD) $(TEXI2DVI) ${srcdir}/idlwave.texi
-
-../info/eudc: eudc.texi
-	cd $(srcdir); $(MAKEINFO) eudc.texi
-eudc.dvi: eudc.texi
-	$(ENVADD) $(TEXI2DVI) ${srcdir}/eudc.texi
-
-../info/ebrowse: ebrowse.texi
-	cd $(srcdir); $(MAKEINFO) ebrowse.texi
-ebrowse.dvi: ebrowse.texi
-	$(ENVADD) $(TEXI2DVI) ${srcdir}/ebrowse.texi
-
-../info/woman: woman.texi
-	cd $(srcdir); $(MAKEINFO) woman.texi
-woman.dvi: woman.texi
-	$(ENVADD) $(TEXI2DVI) ${srcdir}/woman.texi
-
-../info/org: org.texi
-	cd $(srcdir); $(MAKEINFO) org.texi
-org.dvi: org.texi
-	$(ENVADD) $(TEXI2DVI) ${srcdir}/org.texi
-
-../info/url: url.texi
-	cd $(srcdir); $(MAKEINFO) url.texi
-url.dvi: url.texi
-	$(ENVADD) $(TEXI2DVI) ${srcdir}/url.texi
-
-../info/speedbar: speedbar.texi
-	cd $(srcdir); $(MAKEINFO) speedbar.texi
-speedbar.dvi: speedbar.texi
-	$(ENVADD) $(TEXI2DVI) ${srcdir}/speedbar.texi
-
-../info/tramp: tramp.texi trampver.texi
-	cd $(srcdir); $(MAKEINFO) -D emacs tramp.texi
-tramp.dvi: tramp.texi trampver.texi
-	$(ENVADD) $(TEXI2DVI) ${srcdir}/tramp.texi
-
-../info/ses: ses.texi
-	cd $(srcdir); $(MAKEINFO) ses.texi
-ses.dvi: ses.texi
-	$(ENVADD) $(TEXI2DVI) ${srcdir}/ses.texi
-
-../info/smtpmail: smtpmail.texi
-	cd $(srcdir); $(MAKEINFO) smtpmail.texi
-smtpmail.dvi: smtpmail.texi
-	$(ENVADD) $(TEXI2DVI) ${srcdir}/smtpmail.texi
-
-../info/flymake: flymake.texi
-	cd $(srcdir); $(MAKEINFO) flymake.texi
-flymake.dvi: flymake.texi
-	$(ENVADD) $(TEXI2DVI) ${srcdir}/flymake.texi
-
-../info/newsticker: newsticker.texi
-	cd $(srcdir); $(MAKEINFO) newsticker.texi
-newsticker.dvi: newsticker.texi
-	$(ENVADD) $(TEXI2DVI) ${srcdir}/newsticker.texi
-
-../info/rcirc: rcirc.texi
-	cd $(srcdir); $(MAKEINFO) rcirc.texi
-rcirc.dvi: rcirc.texi
-	$(ENVADD) $(TEXI2DVI) ${srcdir}/rcirc.texi
-
-../info/erc: erc.texi
-	cd $(srcdir); $(MAKEINFO) erc.texi
-erc.dvi: erc.texi
-	$(ENVADD) $(TEXI2DVI) ${srcdir}/erc.texi
-
 mostlyclean:
 	rm -f *.log *.cp *.fn *.ky *.pg *.vr core *.tp *.core gnustmp.*
 
Index: sid/configure.in
===================================================================
--- sid.orig/configure.in
+++ sid/configure.in
@@ -3346,7 +3346,7 @@
 
 AC_OUTPUT(Makefile lib-src/Makefile.c:lib-src/Makefile.in oldXMenu/Makefile \
 	man/Makefile lwlib/Makefile src/Makefile.c:src/Makefile.in \
-	lisp/Makefile lispref/Makefile lispintro/Makefile leim/Makefile, [
+	lisp/Makefile leim/Makefile, [
 
 ### Make the necessary directories, if they don't exist.
 for dir in etc lisp ; do
