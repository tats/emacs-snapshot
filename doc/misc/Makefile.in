#### Makefile for documentation other than the Emacs manual.

# Copyright (C) 1994, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003,
#   2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012 Free Software Foundation, Inc.

# This file is part of GNU Emacs.

# GNU Emacs is free software: you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation, either version 3 of the License, or
# (at your option) any later version.

# GNU Emacs is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.

# You should have received a copy of the GNU General Public License
# along with GNU Emacs.  If not, see <http://www.gnu.org/licenses/>.


# Where to find the source code.  $(srcdir) will be the man-aux
# subdirectory of the source tree.  This is
# set by the configure script's `--srcdir' option.
srcdir=@srcdir@
top_srcdir=@top_srcdir@

# Tell make where to find source files; this is needed for the makefiles.
VPATH=@srcdir@

## Where the output files go.
## Note that the setfilename command in the .texi files assumes this.
infodir=../../info

# The makeinfo program is part of the Texinfo distribution.
# Use --force so that it generates output even if there are errors.
MAKEINFO = makeinfo --force

# Also add new entries to INFO_FILES in the top-level Makefile.in.
INFO_TARGETS = \
	$(infodir)/efaq

DVI_TARGETS = \
	faq.dvi

PDF_TARGETS = \
	ada-mode.pdf \
	auth.pdf \
	autotype.pdf \
	calc.pdf \
	cc-mode.pdf \
	cl.pdf \
	dbus.pdf \
	dired-x.pdf \
	ebrowse.pdf \
	ede.pdf \
	ediff.pdf \
	edt.pdf \
	eieio.pdf \
	emacs-mime.pdf \
	epa.pdf \
	erc.pdf \
	eshell.pdf \
	eudc.pdf \
	faq.pdf \
	flymake.pdf \
	forms.pdf \
	gnus.pdf \
	idlwave.pdf \
	info.pdf \
	mairix-el.pdf \
	message.pdf \
	mh-e.pdf \
	newsticker.pdf \
	nxml-mode.pdf \
	org.pdf \
	pcl-cvs.pdf \
	pgg.pdf \
	rcirc.pdf \
	reftex.pdf \
	remember.pdf \
	sasl.pdf \
	sc.pdf \
	semantic.pdf \
	ses.pdf \
	sieve.pdf \
	smtpmail.pdf \
	speedbar.pdf \
	tramp.pdf \
	url.pdf \
	vip.pdf \
	viper.pdf \
	widget.pdf \
	woman.pdf

TEXI2DVI = texi2dvi
TEXI2PDF = texi2pdf

# The following rule does not work with all versions of `make'.
.SUFFIXES: .texi .dvi
.texi.dvi:
	$(TEXI2DVI) $<

ENVADD = TEXINPUTS="$(srcdir):$(TEXINPUTS)" MAKEINFO="$(MAKEINFO) -I$(srcdir)"


info: $(INFO_TARGETS)

dvi: $(DVI_TARGETS)

pdf: $(PDF_TARGETS)

# Note that all the Info targets build the Info files
# in srcdir.  There is no provision for Info files
# to exist in the build directory.
# In a distribution of Emacs, the Info files should be up to date.

## "short" target names for convenience, to just rebuild one manual.
efaq : $(infodir)/efaq
$(infodir)/efaq: faq.texi
	cd $(srcdir); $(MAKEINFO) faq.texi
faq.dvi: faq.texi
	$(ENVADD) $(TEXI2DVI) ${srcdir}/faq.texi
faq.pdf: faq.texi
	$(ENVADD) $(TEXI2PDF) ${srcdir}/faq.texi



mostlyclean:
	rm -f *.log *.cp *.fn *.ky *.op *.ops *.pg *.vr core *.tp \
	*.tps *.core gnustmp.*
	rm -f *.aux *.cps *.fns *.kys *.pgs *.vrs *.toc

clean: mostlyclean
	rm -f *.dvi *.pdf

distclean: clean
#	rm -f Makefile

maintainer-clean: distclean
	for file in $(INFO_TARGETS); do rm -f $${file}*; done


### Makefile ends here
